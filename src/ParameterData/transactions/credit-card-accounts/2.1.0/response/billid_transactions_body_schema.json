{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://www.apache.org/licenses/LICENSE-2.0",
  "title": "",
  "version": "2.1.0",
  "description": "ResponseCreditCardAccountsTransactions",
  "additionalProperties": true,
  "required": [
    "data",
    "links",
    "meta"
  ],
  "properties": {
    "data": {
      "type": "array",
      "minItems": 0,
      "items": {
        "type": "object",
        "description": "Lista que traz os valores relativos aos saldos do Limite de crédito total da conta de pagamento pós-paga",
        "required": [
          "transactionId",
          "identificationNumber",
          "transactionName",
          "creditDebitType",
          "transactionType",
          "brazilianAmount",
          "amount",
          "transactionDate",
          "transactionDateTime",
          "billPostDate"
        ],
        "properties": {
          "transactionId": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "pattern": "^[a-zA-Z0-9][a-zA-Z0-9-]{0,99}$",
            "example": "TXpRMU9UQTROMWhZV2xSU1FUazJSMDl",
            "description": "Código ou identificador único prestado pela instituição que mantém a conta para representar a transação individual. \nO ideal é que o `transactionId` seja imutável. \nNo entanto, para casos em que a transação ainda está em processamento, é esperado que o `transactionId` intermediário seja estável, mudando apenas quando a transação sofrer uma mudança em seu estado. \nPara transações processadas, é esperado que o `transactionld` e demais dados da transação sejam imutáveis. \nO `transactionId` deve obedecer, no mínimo, as regras de imutabilidade propostas conforme a tabela “Data de imutabilidade por tipo de transação” presente nas orientações desta API\n"
          },
          "identificationNumber": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "pattern": "^[a-zA-Z0-9][a-zA-Z0-9-]{0,99}$",
            "example": "4453",
            "description": "Número de identificação do cartão: corresponde aos 4 últimos dígitos do cartão para PF, ou então, preencher com um identificador para PJ, com as caracteristicas definidas para os IDs no Open Finance.\n"
          },
          "transactionName": {
            "type": "string",
            "maxLength": 200,
            "pattern": "[\\w\\W\\s]*",
            "example": "PGTO",
            "description": "Literal usada na instituição financeira para identificar a transação. A informação apresentada precisa ser a mesma utilizada nos canais eletrônicos da instituição (extrato e fatura)."
          },
          "billId": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "pattern": "^[a-zA-Z0-9][a-zA-Z0-9-]{0,99}$",
            "example": "MTU0OTU1NjI2NTk4OTRmc2ZhZDRmc2Q1NmZkM",
            "description": "Informação que identifica a fatura onde consta a transação informada. Preencher apenas para casos de transação em fatura fechada, ou seja, este campo não é esperado em casos de transação em fatura aberta."
          },
          "creditDebitType": {
            "type": "string",
            "description": "Indicador do tipo de lançamento: \nDébito (no extrato) Em um extrato bancário, os débitos, marcados com a letra “D” ao lado do valor registrado, informam as saídas de dinheiro na conta-corrente.\nCrédito (no extrato) Em um extrato bancário, os créditos, marcados com a letra “C” ao lado do valor registrado, informam as entradas de dinheiro na conta-corrente.\n",
            "enum": [
              "CREDITO",
              "DEBITO"
            ],
            "example": "DEBITO"
          },
          "transactionType": {
            "type": "string",
            "description": "Traz os tipos de Transação",
            "enum": [
              "PAGAMENTO",
              "TARIFA",
              "OPERACOES_CREDITO_CONTRATADAS_CARTAO",
              "ESTORNO",
              "CASHBACK",
              "OUTROS"
            ],
            "example": "CASHBACK"
          },
          "transactionalAdditionalInfo": {
            "type": "string",
            "maxLength": 140,
            "pattern": "^\\S[\\s\\S]*$",
            "description": "Campo livre, de preenchimento obrigatório quando selecionado tipo de transação \"OUTROS\""
          },
          "paymentType": {
            "type": "string",
            "description": "Traz os tipos de pagamento.\n\n[Restrição] Preenchimento obrigatório se Tipo de Transação selecionada for 'PAGAMENTO'.\n",
            "enum": [
              "A_VISTA",
              "A_PRAZO"
            ],
            "example": "A_VISTA"
          },
          "feeType": {
            "type": "string",
            "description": "Traz os tipos de Tarifas: (Vide Enum) Anuidade, Saque com cartão no Brasil, Saque com cartão no exterior, Avaliação emergencial de crédito, Emissão segunda via, Tarifa pagamento de contas, SMS, OUTRA.\n\n[Restrição] Preenchimento obrigatório se Tipo de Transação selecionada for 'TARIFA'.\n",
            "enum": [
              "ANUIDADE",
              "SAQUE_CARTAO_BRASIL",
              "SAQUE_CARTAO_EXTERIOR",
              "AVALIACAO_EMERGENCIAL_CREDITO",
              "EMISSAO_SEGUNDA_VIA",
              "TARIFA_PAGAMENTO_CONTAS",
              "SMS",
              "OUTRA"
            ],
            "example": "ANUIDADE"
          },
          "feeTypeAdditionalInfo": {
            "type": "string",
            "pattern": "^\\S[\\s\\S]*$",
            "maxLength": 140,
            "description": "Campo livre, de preenchimento obrigatório quando selecionada tipo de tarifa \"OUTRA\""
          },
          "otherCreditsType": {
            "type": "string",
            "description": "Traz outros tipos de crédito contratados no cartão.\n\n[Restrição] Preenchimento obrigatório se o tipo transação selecionado for 'OPERACOES_CREDITO_CONTRATADAS_CARTAO'.\n",
            "enum": [
              "CREDITO_ROTATIVO",
              "PARCELAMENTO_FATURA",
              "EMPRESTIMO",
              "OUTROS"
            ],
            "example": "CREDITO_ROTATIVO"
          },
          "otherCreditsAdditionalInfo": {
            "type": "string",
            "maxLength": 50,
            "pattern": "^\\S[\\s\\S]*$",
            "description": "Campo livre para preenchimento de dados adicionais de outros tipos de crédito contratados no cartão.\n\n[Restrição] Preenchimento obrigatório quando selecionado no campo outros tipos de crédito \"OUTROS\".\n"
          },
          "chargeIdentificator": {
            "type": "number",
            "format": "integer",
            "description": "Número da parcela que está sendo informada.\n\n[Restrição] Preenchimento obrigatório se Tipo de Pagamento (paymentType) selecionada for 'A_PRAZO'.\n",
            "minimum": 1,
            "maximum": 999,
            "example": 12
          },
          "chargeNumber": {
            "type": "number",
            "format": "integer",
            "maximum": 999,
            "example": 12,
            "description": "Quantidade de parcelas.   \n[Restrição] O campo deve ser preenchido quando houverem parcelas relacionadas a transação.\n"
          },
          "brazilianAmount": {
            "type": "object",
            "description": "Valor da transação expresso em valor monetário com no mínimo 2 casas e no máximo 4 casas decimais, em moeda corrente do Brasil. Deve ser o valor de amount convertido para BRL (em caso de compra internacional) ou o mesmo valor de amount (em caso de compra nacional).\n",
            "required": [
              "amount",
              "currency"
            ],
            "properties": {
              "amount": {
                "type": "string",
                "format": "double",
                "pattern": "^\\d{1,15}\\.\\d{2,4}$",
                "maxLength": 20,
                "minLength": 4,
                "example": "1000.0400",
                "description": "Valor relacionado ao objeto."
              },
              "currency": {
                "type": "string",
                "pattern": "^[A-Z]{3}$",
                "maxLength": 3,
                "description": "Moeda referente ao valor monetário, seguindo o modelo ISO-4217.",
                "example": "BRL"
              }
            }
          },
          "amount": {
            "type": "object",
            "description": "Valor original da transação. Expresso em valor monetário com no mínimo 2 casas decimais e no máximo 4 casas decimais. Deve ser sempre preenchido com o valor original da transação independente da nacionalidade, sem convertê-lo.\n",
            "required": [
              "amount",
              "currency"
            ],
            "properties": {
              "amount": {
                "type": "string",
                "format": "double",
                "pattern": "^\\d{1,15}\\.\\d{2,4}$",
                "maxLength": 20,
                "minLength": 4,
                "example": "1000.0400",
                "description": "Valor relacionado ao objeto."
              },
              "currency": {
                "type": "string",
                "pattern": "^[A-Z]{3}$",
                "maxLength": 3,
                "description": "Moeda referente ao valor monetário, seguindo o modelo ISO-4217.",
                "example": "BRL"
              }
            }
          },
          "transactionDate": {
            "type": "string",
            "format": "date",
            "maxLength": 20,
            "pattern": "^(\\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$",
            "example": "2021-05-21",
            "description": "Data original da transação"
          },
          "transactionDateTime": {
            "type": "string",
            "format": "date-time",
            "maxLength": 24,
            "pattern": "(^(\\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])T(?:[01]\\d|2[0123]):(?:[012345]\\d):(?:[012345]\\d)\\.(?:[0-9]){3}Z$)",
            "example": "2016-01-29T12:29:03.374Z",
            "description": "Data e hora original da transação. \nNo primeiro momento, as instituições poderão complementar informações faltantes com 0 (Por exemplo: 2016-01-29T00:00:00.000Z) \nA partir de 31/01/2024 é esperado que o campo seja preenchido com informações reais.\n"
          },
          "billPostDate": {
            "type": "string",
            "format": "date",
            "maxLength": 20,
            "pattern": "^(\\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$",
            "example": "2021-05-21",
            "description": "Data em que a transação foi inserida na fatura"
          },
          "payeeMCC": {
            "type": "number",
            "format": "integer",
            "maximum": 2147483647,
            "example": 5137,
            "description": "O MCC ou o código da categoria do estabelecimento comercial. Os MCCs são agrupados segundo suas similaridades. O MCC é usado para classificar o negócio pelo tipo fornecido de bens ou serviços. Os MCCs são atribuídos por tipo de comerciante (por exemplo, um para hotéis, um para lojas de materiais de escritório, etc.) ou por nome de comerciante (por exemplo, 3000 para a United Airlines).\n"
          }
        }
      }
    },
    "links": {
      "type": "object",
      "description": "Referências para outros recusos da API requisitada.",
      "required": [
        "self"
      ],
      "properties": {
        "self": {
          "type": "string",
          "format": "uri",
          "maxLength": 2000,
          "description": "URI completo que gerou a resposta atual.",
          "example": "https://api.banco.com.br/open-banking/api/v1/resource",
          "pattern": "^(https:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&\\/\\/=]*)$"
        },
        "first": {
          "type": "string",
          "format": "uri",
          "maxLength": 2000,
          "description": "URI da primeira página que originou essa lista de resultados. Restrição - Obrigatório quando não for a primeira página da resposta",
          "example": "https://api.banco.com.br/open-banking/api/v1/resource",
          "pattern": "^(https:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&\\/\\/=]*)$"
        },
        "prev": {
          "type": "string",
          "format": "uri",
          "maxLength": 2000,
          "description": "URI da página anterior dessa lista de resultados. Restrição - \tObrigatório quando não for a primeira página da resposta",
          "example": "https://api.banco.com.br/open-banking/api/v1/resource",
          "pattern": "^(https:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&\\/\\/=]*)$"
        },
        "next": {
          "type": "string",
          "format": "uri",
          "maxLength": 2000,
          "description": "URI da próxima página dessa lista de resultados. Restrição - Obrigatório quando não for a última página da resposta",
          "example": "https://api.banco.com.br/open-banking/api/v1/resource",
          "pattern": "^(https:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&\\/\\/=]*)$"
        }
      }
    },
    "meta": {
      "type": "object",
      "description": "Meta informações referente à API requisitada.",
      "required": [
        "requestDateTime"
      ],
      "properties": {
        "requestDateTime": {
          "description": "Data e hora da consulta, conforme especificação RFC-3339, formato UTC.",
          "type": "string",
          "maxLength": 20,
          "format": "date-time",
          "example": "2021-05-21T08:30:00Z"
        }
      }
    }
  }
}