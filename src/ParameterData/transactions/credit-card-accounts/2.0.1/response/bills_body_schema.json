{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://www.apache.org/licenses/LICENSE-2.0",
  "title": "",
  "version": "2.0.1",
  "description": "",
  "additionalProperties": true,
  "required": [
    "data",
    "links",
    "meta"
  ],
  "properties": {
    "data": {
      "type": "array",
      "minItems": 0,
      "items": {
        "type": "object",
        "description": "Conjunto das informações referentes a lista de faturas associadas à conta de pagamento pós-paga",
        "required": [
          "billId",
          "dueDate",
          "billTotalAmount",
          "billMinimumAmount",
          "isInstalment",
          "payments"
        ],
        "properties": {
          "billId": {
            "description": "Informação que identifica a fatura",
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "pattern": "^[a-zA-Z0-9][a-zA-Z0-9-]{0,99}$",
            "example": "3459087XXZTR"
          },
          "dueDate": {
            "description": "Data de vencimento da Fatura, que aparece para pagamento pelo cliente",
            "type": "string",
            "format": "date",
            "maxLength": 10,
            "pattern": "^(\\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$",
            "example": "2021-05-21"
          },
          "billTotalAmount": {
            "type": "object",
            "required": [
              "amount",
              "currency"
            ],
            "description": "Valor total da faturas.\nO campo deve assumir valor positivo para saldo devedor e negativo para saldo credor.\n",
            "properties": {
              "amount": {
                "type": "string",
                "format": "double",
                "pattern": "^-?\\d{1,15}\\.\\d{2,4}$",
                "maxLength": 21,
                "minLength": 4,
                "example": "1000.0400",
                "description": "Valor total da faturas. Expresso em valor monetário com no mínimo 2 casas e no máximo 4 casas decimais."
              },
              "currency": {
                "type": "string",
                "pattern": "^[A-Z]{3}$",
                "maxLength": 3,
                "description": "Moeda referente ao valor monetário, seguindo o modelo ISO-4217.",
                "example": "BRL"
              }
            }
          },
          "billMinimumAmount": {
            "type": "object",
            "required": [
              "amount",
              "currency"
            ],
            "description": "Valor do pagamento minimo da fatura\n",
            "properties": {
              "amount": {
                "type": "string",
                "format": "double",
                "pattern": "^\\d{1,15}\\.\\d{2,4}$",
                "maxLength": 20,
                "minLength": 4,
                "example": "1000.0400",
                "description": "Valor do pagamento minimo da fatura"
              },
              "currency": {
                "type": "string",
                "pattern": "^[A-Z]{3}$",
                "maxLength": 3,
                "description": "Moeda referente ao valor monetário, seguindo o modelo ISO-4217.",
                "example": "BRL"
              }
            }
          },
          "isInstalment": {
            "type": "boolean",
            "description": "Indica se a fatura permite parcelamento (true) ou não (false).",
            "example": false
          },
          "financeCharges": {
            "type": "array",
            "items": {
              "type": "object",
              "required": [
                "type",
                "amount",
                "currency"
              ],
              "properties": {
                "type": {
                  "type": "string",
                  "description": "Traz a denominação dos Encargos que\nincidem na fatura da conta de pagamento pós-paga. (Vide Enum)\n- Juros remuneratórios por atraso no pagamento da fatura\n- Multa por atraso no pagamento da fatura\n- Juros de mora por atraso no pagamento da fatura\n- IOF\n- Sem Encargo\n- Outros\n",
                  "enum": [
                    "JUROS_REMUNERATORIOS_ATRASO_PAGAMENTO_FATURA",
                    "MULTA_ATRASO_PAGAMENTO_FATURA",
                    "JUROS_MORA_ATRASO_PAGAMENTO_FATURA",
                    "IOF",
                    "OUTROS"
                  ]
                },
                "additionalInfo": {
                  "type": "string",
                  "maxLength": 140,
                  "pattern": "[\\w\\W\\s]*",
                  "example": "Informações Adicionais",
                  "description": "Campo livre, de preenchimento obrigatório se selecionado tipo de encargo 'OUTROS'"
                },
                "amount": {
                  "type": "string",
                  "format": "double",
                  "maxLength": 20,
                  "minLength": 4,
                  "pattern": "^\\d{1,15}\\.\\d{2,4}$",
                  "example": "100000.0400",
                  "description": "Valor cobrado pelo encargo. Expresso em valor monetário com no mínimo 2 casas e no máximo 4 casas decimais."
                },
                "currency": {
                  "type": "string",
                  "maxLength": 3,
                  "pattern": "^(\\w{3}){1}$",
                  "example": "BRL",
                  "description": "Moeda referente ao valor cobrado pelo encargo, segundo modelo ISO-4217. p.ex. 'BRL' \nTodos os saldos informados estão representados com a moeda vigente do Brasil.\n"
                }
              }
            },
            "minItems": 1,
            "description": "Lista dos encargos cobrados na fatura"
          },
          "payments": {
            "type": "array",
            "items": {
              "type": "object",
              "required": [
                "valueType",
                "paymentDate",
                "paymentMode",
                "amount",
                "currency"
              ],
              "properties": {
                "valueType": {
                  "type": "string",
                  "description": "Traz os tipos dos valores relativos aos pagamentos da fatura da conta de pagamento pós-paga: (Vide Enum)\n - Valor de pagamento da fatura com parcelamento\n - Valor pagamento da fatura realizado\n - Outro Valor pago na fatura\n\n VALOR_PAGAMENTO_FATURA_PARCELADO: Quando o pagamento corresponde ao fato gerador para abertura do plano de parcelamento da fatura\n\n VALOR_PAGAMENTO_FATURA_REALIZADO: Quando o pagamento corresponde ao valor total da fatura\n\n OUTRO_VALOR_PAGO_FATURA: Demais casos\n",
                  "enum": [
                    "VALOR_PAGAMENTO_FATURA_PARCELADO",
                    "VALOR_PAGAMENTO_FATURA_REALIZADO",
                    "OUTRO_VALOR_PAGO_FATURA"
                  ]
                },
                "paymentDate": {
                  "description": "Data efetiva de quando o Pagamento da fatura foi realizado",
                  "type": "string",
                  "format": "date",
                  "maxLength": 10,
                  "pattern": "^(\\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$",
                  "example": "2021-05-21"
                },
                "paymentMode": {
                  "type": "string",
                  "description": "Traz as formas de efetivação do pagamento realizado: (Vide Enum)\n- Débito em conta corrente\n- Boleto bancário\n- Averbação em folha\n- PIX\n",
                  "enum": [
                    "DEBITO_CONTA_CORRENTE",
                    "BOLETO_BANCARIO",
                    "AVERBACAO_FOLHA",
                    "PIX"
                  ]
                },
                "amount": {
                  "type": "string",
                  "format": "double",
                  "pattern": "^\\d{1,15}\\.\\d{2,4}$",
                  "maxLength": 20,
                  "minLength": 4,
                  "example": "1000.0400",
                  "description": "Valor pagamento segundo o valueType.  \nExpresso em valor monetário com no mínimo 2 casas e no máximo 4 casas decimais.   \nO campo não pode assumir valor negativo por se tratar de um pagamento.\n"
                },
                "currency": {
                  "type": "string",
                  "pattern": "^(\\w{3}){1}$",
                  "maxLength": 3,
                  "description": "Moeda referente ao valor de pagamento da fatura, segundo modelo ISO-4217. p.ex. 'BRL' Todos os valores informados estão representados com a moeda vigente do Brasil\n",
                  "example": "BRL"
                }
              }
            },
            "minItems": 0,
            "description": "Lista que traz os valores relativos aos pagamentos da Fatura da conta de pagamento pós-paga"
          }
        }
      }
    },
    "links": {
      "type": "object",
      "description": "Referências para outros recusos da API requisitada.",
      "required": [
        "self"
      ],
      "properties": {
        "self": {
          "type": "string",
          "format": "uri",
          "maxLength": 2000,
          "description": "URI completo que gerou a resposta atual.",
          "example": "https://api.banco.com.br/open-banking/api/v1/resource",
          "pattern": "^(https:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&\\/\\/=]*)$"
        },
        "first": {
          "type": "string",
          "format": "uri",
          "maxLength": 2000,
          "description": "URI da primeira página que originou essa lista de resultados. Restrição - Obrigatório quando não for a primeira página da resposta",
          "example": "https://api.banco.com.br/open-banking/api/v1/resource",
          "pattern": "^(https:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&\\/\\/=]*)$"
        },
        "prev": {
          "type": "string",
          "format": "uri",
          "maxLength": 2000,
          "description": "URI da página anterior dessa lista de resultados. Restrição - \tObrigatório quando não for a primeira página da resposta",
          "example": "https://api.banco.com.br/open-banking/api/v1/resource",
          "pattern": "^(https:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&\\/\\/=]*)$"
        },
        "next": {
          "type": "string",
          "format": "uri",
          "maxLength": 2000,
          "description": "URI da próxima página dessa lista de resultados. Restrição - Obrigatório quando não for a última página da resposta",
          "example": "https://api.banco.com.br/open-banking/api/v1/resource",
          "pattern": "^(https:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&\\/\\/=]*)$"
        },
        "last": {
          "type": "string",
          "format": "uri",
          "maxLength": 2000,
          "description": "URI da última página dessa lista de resultados. Restrição - Obrigatório quando não for a última página da resposta",
          "example": "https://api.banco.com.br/open-banking/api/v1/resource",
          "pattern": "^(https:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&\\/\\/=]*)$"
        }
      }
    },
    "meta": {
      "type": "object",
      "description": "Meta informações referente à API requisitada.",
      "required": [
        "totalRecords",
        "totalPages",
        "requestDateTime"
      ],
      "properties": {
        "totalRecords": {
          "type": "integer",
          "format": "int32",
          "description": "Número total de registros no resultado",
          "example": 1
        },
        "totalPages": {
          "type": "integer",
          "format": "int32",
          "description": "Número total de páginas no resultado",
          "example": 1
        },
        "requestDateTime": {
          "description": "Data e hora da consulta, conforme especificação RFC-3339, formato UTC.",
          "type": "string",
          "maxLength": 20,
          "format": "date-time",
          "example": "2021-05-21T08:30:00Z"
        }
      }
    }
  }
}